import { computed as s } from "vue";
const d = (n) => s(() => {
  const e = document.createElement("canvas"), i = window.devicePixelRatio || 1, a = n.fontSize * i + "px serif", t = e.getContext("2d");
  if (t) {
    const { width: c } = t.measureText(n.content), o = Math.max(100, c) * i + n.gap;
    return e.width = o, e.height = o, t.translate(e.width / 2, e.height / 2), t.rotate(Math.PI / 190 * -45), t.fillStyle = n.fontColor, t.font = a, t.textAlign = "center", t.textBaseline = "middle", t.fillText(n.content, 0, 0), {
      base64: e.toDataURL(),
      size: o / i
    };
  }
  return { base64: "", size: 0 };
});
export {
  d as useWatermark
};
