import { useLunar as _ } from "../use-lunar/index.js";
const k = (c) => {
  const u = _(), o = (t, n) => {
    const e = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    return n - 1 === -1 && (n = 12), n === 2 && f(t) ? 29 : e[n - 1];
  }, D = (t, n) => new Date(t, n - 1, 1).getDay(), f = (t) => t % 4 === 0 && t % 100 !== 0 || t % 400 === 0;
  return { generateCalendar: (t, n) => {
    const e = [], d = D(t, n), g = o(t, n - 1);
    for (let a = d - 1; a >= 0; a--) {
      const r = n - 1 === 0 ? 12 : n - 1, i = g - a, y = c.lunar ? u(t, r, i) : {};
      e.push({
        year: t,
        month: r,
        day: i,
        target: "prev",
        ...y
      });
    }
    let s = 1;
    for (; s <= o(t, n); ) {
      const a = c.lunar ? u(t, n, s) : {};
      e.push({
        year: t,
        month: n,
        day: s,
        target: "current",
        ...a
      }), s++;
    }
    let l = 1;
    for (; e.length % 7 !== 0; ) {
      const a = n + 1 === 13 ? 1 : n + 1, r = c.lunar ? u(t, a, l) : {};
      e.push({
        year: t,
        month: a,
        day: l,
        target: "next",
        ...r
      }), l++;
    }
    return e;
  } };
};
export {
  k as useCalendar
};
