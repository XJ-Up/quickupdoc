"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),k=require("./index3.js"),y=require("../../svg-icon/index.js"),m=require("../../avatar-group/src/index3.js"),S=require("../../_hooks/use-load-img/index.js"),n=require("../../_utils/is/index.js"),_=require("../../_hooks/use-list/index.js");const z={key:1,class:"f-avatar__text"},g=["alt"],B={class:"f-avatar__error-text"};var b=e.defineComponent({name:"FAvatar",__name:"avatar",props:k.Props,setup(l){const o=l,i=e.useSlots(),t=e.ref(),c=e.inject(m.AVATAR_GROUP_PROPS_KEY,void 0),{isSuccess:u,isShowNode:v}=S.useLoadImg(t,o,()=>!i.icon&&!o.icon&&!o.text&&t.value),a=e.reactive({...e.toRefs(o),...e.toRefs(e.reactive(c||{}))}),{styles:f,classes:d}=_.useList(a,"avatar"),p=d(["round","fit",{key:"size",callback:()=>n.isString(a.size)}],"f-avatar"),s=f(["background","fontColor","fontSize","zIndex",{key:"size",callback:()=>n.isNumber(a.size)}],"zIndex");return(r,h)=>e.unref(u)?(e.openBlock(),e.createElementBlock("div",{key:0,role:"img",class:e.normalizeClass(e.unref(p)),style:e.normalizeStyle(e.unref(s))},[r.$slots.icon||r.icon?(e.openBlock(),e.createBlock(e.unref(y.FSvgIcon),{key:0,size:r.fontSize||15,color:r.fontColor,icon:r.icon},{default:e.withCtx(()=>[e.renderSlot(r.$slots,"icon")]),_:3},8,["size","color","icon"])):r.text?(e.openBlock(),e.createElementBlock("span",z,e.toDisplayString(r.text),1)):(e.openBlock(),e.createElementBlock("img",{key:2,ref_key:"avatarRef",ref:t,class:"f-avatar__img",src:"",style:e.normalizeStyle(e.unref(v)?"":"visibility: hidden"),alt:r.alt},null,12,g))],6)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"f-avatar__error",style:e.normalizeStyle(e.unref(s))},[e.renderSlot(r.$slots,"error",{},()=>[e.createElementVNode("span",B,e.toDisplayString(r.alt||"加载失败"),1)])],4))}});exports.default=b;
