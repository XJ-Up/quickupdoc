"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t=require("vue"),m=require("./index3.js"),f=require("../../_hooks/use-watermark/index.js"),v=t.defineComponent({name:"FWatermark",__name:"watermark",props:m.Props,setup(d){const s=d,i=f.useWatermark(s),o=t.ref();let e;const a=()=>{if(!o.value)return;e&&e.remove();const{base64:n,size:r}=i.value;e=document.createElement("div"),e.style.position="absolute",e.style.backgroundImage=`url(${n})`,e.style.backgroundSize=`${r}px ${r}px`,e.style.zIndex=s.zIndex.toString(),e.style.inset="0",o.value.appendChild(e)};t.onMounted(a);const u=new MutationObserver(n=>{for(const r of n){if(r.removedNodes&&r.removedNodes.length){const l=Array.from(r.removedNodes);for(const c of l)if(c===e){a();return}}if(r.target===e){a();return}}});return t.onMounted(()=>{o.value&&u.observe(o.value,{childList:!0,subtree:!0,attributes:!0})}),t.onUnmounted(u.disconnect),(n,r)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"watermarkRef",ref:o,class:"f-watermark"},[t.renderSlot(n.$slots,"default")],512))}});exports.default=v;
