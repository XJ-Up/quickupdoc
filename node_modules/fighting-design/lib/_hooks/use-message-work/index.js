"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var s=require("vue"),g=require("../use-message/index.js"),C=require("../use-list/index.js"),q=require("../use-run/index.js");const I=(e,c)=>{const{classes:u,styles:d}=C.useList(e,c),{run:m}=q.useRun(),n=s.getCurrentInstance(),l=s.ref(!0),f=u(["type","placement","round"],`f-${c}`),v=d(["color","background","zIndex"],"zIndex"),y=s.computed(()=>e.placement.includes("top")),r=s.ref(e.offset);let o;const i=t=>{l.value=!1,m(e.onClose,t),clearTimeout(o)},T=()=>{g.removeInstance(n)},x=()=>{n.vnode.el&&n.vnode.el.parentElement.removeChild(n.vnode.el)},a=()=>{e.duration>0&&(o=setTimeout(()=>{i()},e.duration))};a();const b=s.computed(()=>{const t={};return e.placement.includes("bottom")?t.bottom=r.value+"px":t.top=r.value+"px",t});return{classList:f,style:v,visible:l,isPosition:y,offsetStyle:b,offsetVal:r,onBeforeLeave:T,onAfterLeave:x,clearTimer:()=>{o&&clearTimeout(o)},startTime:()=>{a()},handelClose:i}};exports.useMessageWork=I;
