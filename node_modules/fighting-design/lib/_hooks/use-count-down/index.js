"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var i=require("vue"),m=require("../../_utils/is/index.js");const C=e=>m.isBrowser?window.requestAnimationFrame(e):-1,B=e=>{m.isBrowser&&window.cancelAnimationFrame(e)},u=1e3,l=60*u,f=60*l,D=24*f,S=e=>{const o=Math.floor(e/D),a=Math.floor(e%D/f),t=Math.floor(e%f/l),s=Math.floor(e%l/u),n=Math.floor(e%u);return{total:e,days:o,hours:a,minutes:t,seconds:s,milliseconds:n}},k=(e,o,a=u)=>Math.floor(e/a)===Math.floor(o/a),q=e=>{let o,a,t,s;const n=i.ref(e.time),R=i.computed(()=>S(n.value)),d=()=>Math.max(a-performance.now(),0),v=r=>{var T;n.value=r,r===0&&(c(),(T=e.onFinish)==null||T.call(e))},w=()=>{m.isBrowser&&(e.millisecond?h():M())},g=()=>{t||(a=performance.now()+n.value,t=!0,w())},A=(r=e.time)=>{c(),n.value=r},c=()=>{t=!1,B(o)},h=()=>{o=C(()=>{t&&(v(d()),n.value>0&&h())})},M=()=>{o=C(()=>{if(t){const r=d();(!k(r,n.value,e.interval)||r===0)&&v(r),n.value>0&&M()}})};return i.onBeforeUnmount(c),i.onActivated(()=>{s&&(t=!0,s=!1,w())}),i.onDeactivated(()=>{t&&(c(),s=!0)}),{start:g,pause:c,reset:A,current:R}};exports.useCountDown=q;
