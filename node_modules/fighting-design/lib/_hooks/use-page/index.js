"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var o=require("vue"),C=require("../use-run/index.js");const M=(e,h)=>{const{run:c}=C.useRun(),n=o.computed(()=>{const t=Math.floor(e.total/e.pageSize);return e.total%e.pageSize===0?t:t+1}),P=o.computed(()=>{const t=Number(e.pagerCount),a=Number(e.current),v=(t-1)/2;let r=!1,f=!1;const s=[];if(n.value>t)e.current>t-v&&(r=!0),e.current<n.value-v&&(f=!0);else{for(let u=2;u<n.value;u++)s.push(u);return s}if(!r&&f)for(let u=2;u<t;u++)s.push(u);else if(r&&!f){const u=n.value-(t-2);for(let l=u;l<n.value;l++)s.push(l)}else if(r&&f){const u=Math.floor(t/2)-1;for(let l=a-u;l<=a+u;l++)s.push(l)}else for(let u=2;u<t;u++)s.push(u);return s}),d=t=>{if(e.disabled)return;let a;c({next:()=>{const r=e.current===n.value?n.value:e.current+1;h.currentModelValue.value=r,c(e.onNext,r,e.pageSize),c(e.onChange,r,e.pageSize)},prev:()=>{a=e.current===1?1:e.current-1,h.currentModelValue.value=a,c(e.onPrev,a,e.pageSize),c(e.onChange,a,e.pageSize)}}[t])},i=o.ref(!1),g=o.ref(!1);return o.watchEffect(()=>{const t=Number(e.pagerCount),a=(t-1)/2;i.value=!1,g.value=!1,n.value>t&&(e.current>t-a&&(i.value=!0),e.current<n.value-a&&(g.value=!0))}),{pages:P,showNextMore:g,showPrevMore:i,maxCount:n,handelTurnPages:d}};exports.usePage=M;
