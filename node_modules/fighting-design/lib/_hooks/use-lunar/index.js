"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var s=require("./src/index.js");const U=()=>{const T=e=>{let t,u=348;for(t=32768;t>8;t>>=1)u+=s.LUNAR_INFO[e-1900]&t?1:0;return u+N(e)},I=e=>s.LUNAR_INFO[e-1900]&15,N=e=>I(e)?s.LUNAR_INFO[e-1900]&65536?30:29:0,R=(e,t)=>t>12||t<1?-1:s.LUNAR_INFO[e-1900]&65536>>t?30:29,p=(e,t)=>{const u="魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯",n=[20,19,21,21,21,22,23,23,23,23,22,22];return u.substr(e*2-(t<n[e-1]?2:0),2)+"座"},F=(e,t)=>{if(e<1900||e>2100||t<1||t>24)return-1;const u=s.SOLAR_TERM_LIST[e-1900],n=[];for(let a=0;a<u.length;a+=5){const l=parseInt("0x"+u.substr(a,5)).toString();n.push(l[0],l.substr(1,2),l[3],l.substr(4,2))}return parseInt(n[t-1])},b=e=>{let t;switch(e){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t=s.DATE_CHANG_LUNAR_CALENDAR[Math.floor(e/10)],t+=s.CONVERT_DIGIT_CHINES[e%10]}return t};return(e,t,u)=>{let n=parseInt(e.toString()),a=parseInt(t.toString()),l=parseInt(u.toString());if(n<1900||n>2100||n===1900&&a===1&&l<31)return-1;let i;n?i=new Date(n,parseInt(a.toString())-1,l):i=new Date;let r,D=0,c=0;n=i.getFullYear(),a=i.getMonth()+1,l=i.getDate();let o=(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())-Date.UTC(1900,0,31))/864e5;for(r=1900;r<2101&&o>0;r++)c=T(r),o-=c;o<0&&(o+=c,r--),i.getDay();const L=r;D=I(r);let f=!1;for(r=1;r<13&&o>0;r++)D>0&&r===D+1&&f===!1?(--r,f=!0,c=N(L)):c=R(L,r),f===!0&&r===D+1&&(f=!1),o-=c;o===0&&D>0&&r===D+1&&(f?f=!1:(f=!0,--r)),o<0&&(o+=c,--r);const _=r,g=o+1,C=F(n,a*2);let S="";C===l&&(S=s.SOLAR_TERM[a*2-1]);const O=p(a,l),E=a+"-"+l;let A=_+"-"+g;return _===12&&g===29&&R(L,_)===29&&(A="12-30"),{festival:s.SOLAR_CALENDAR_FESTIVE[E]?s.SOLAR_CALENDAR_FESTIVE[E].title:"",lunarFestival:s.LUNAR_FESTIVE[A]?s.LUNAR_FESTIVE[A].title:"",lunar:b(g),term:S,constellation:O}}};exports.useLunar=U;
