"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),C=require("./index3.js"),N=require("../../input/index.js"),V=require("../../trigger/index.js"),w=require("../../_svg/f-icon-clock-time/index.js"),n=require("../../_utils/utils/index.js"),g=require("../../_utils/is/index.js");const y={class:"f-time-picker"},b={class:"f-time-picker__content"},S=["onClick"],Z=["onClick"],E=["onClick"],x={class:"f-time-picker__option"};var M=e.defineComponent({name:"FTimePicker",__name:"time-picker",props:e.mergeModels(C.Props,{time:{default:"",type:String},timeModifiers:{}}),emits:["update:time"],setup(h){const l=e.useModel(h,"time"),d=new Date,r=e.reactive({hour:n.addZero(d.getHours()),minute:n.addZero(d.getMinutes()),second:n.addZero(d.getSeconds())}),k=e.ref(),c=(o,i=!0)=>{if(i&&!g.isString(i)&&(l.value=`${r.hour}:${r.minute}:${r.second}`),i==="now"){const s=new Date;r.hour=n.addZero(s.getHours()),r.minute=n.addZero(s.getMinutes()),r.second=n.addZero(s.getSeconds())}g.isBoolean(i)&&k.value.close(o)},u=e.ref(),m=e.ref(),a=e.ref(),f=(o,i)=>{o.scrollTo({top:i,behavior:"smooth"})},v=async()=>{if(await e.nextTick(),u.value&&m.value&&a.value){const o=a.value.querySelector(".f-time-picker__second-item").offsetHeight;f(u.value,(Number(r.hour)===0?24:Number(r.hour)-2)*o),f(m.value,(Number(r.minute)-2)*o),f(a.value,(Number(r.second)-2)*o)}},p=(o,i)=>{r[i]=n.addZero(o)};return e.watch(()=>r,v,{deep:!0}),(o,i)=>{const s=e.resolveComponent("f-button");return e.openBlock(),e.createElementBlock("div",y,[e.createVNode(e.unref(V.FTrigger),{ref_key:"triggerInstance",ref:k,trigger:"click",disabled:o.disabled,"on-open":v},{content:e.withCtx(()=>[e.createElementVNode("div",b,[e.createElementVNode("div",{ref_key:"hoverRef",ref:u,class:"f-time-picker__hour"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(24,t=>e.createElementVNode("div",{key:t,class:e.normalizeClass(["f-time-picker__hour-item",{"f-time-picker__hour-active":e.unref(n.addZero)(t===24?0:t).toString()===r.hour}]),onClick:e.withModifiers(_=>p(t===24?0:t,"hour"),["stop"])},e.toDisplayString(e.unref(n.addZero)(t===24?0:t)),11,S)),64))],512),e.createElementVNode("div",{ref_key:"minuteRef",ref:m,class:"f-time-picker__minute"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(59,t=>e.createElementVNode("div",{key:t,class:e.normalizeClass(["f-time-picker__minute-item",{"f-time-picker__minute-active":e.unref(n.addZero)(t).toString()===r.minute}]),onClick:e.withModifiers(_=>p(t,"minute"),["stop"])},e.toDisplayString(e.unref(n.addZero)(t)),11,Z)),64))],512),e.createElementVNode("div",{ref_key:"secondRef",ref:a,class:"f-time-picker__second"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(59,t=>e.createElementVNode("div",{key:t,class:e.normalizeClass(["f-time-picker__second-item",{"f-time-picker__second-active":e.unref(n.addZero)(t).toString()===r.second}]),onClick:e.withModifiers(_=>p(t,"second"),["stop"])},e.toDisplayString(e.unref(n.addZero)(t)),11,E)),64))],512)]),e.createElementVNode("div",x,[e.createVNode(s,{size:"mini",onClick:i[1]||(i[1]=t=>c(t,"now"))},{default:e.withCtx(()=>[e.createTextVNode("当前")]),_:1}),e.createVNode(s,{size:"mini",onClick:i[2]||(i[2]=t=>c(t,!1))},{default:e.withCtx(()=>[e.createTextVNode("取消")]),_:1}),e.createVNode(s,{type:"primary",size:"mini",onClick:i[3]||(i[3]=t=>c(t,!0))},{default:e.withCtx(()=>[e.createTextVNode(" 确定 ")]),_:1})])]),default:e.withCtx(()=>[e.createVNode(e.unref(N.FInput),{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),autocomplete:"off",type:"text",placeholder:o.placeholder||"请选择时间",disabled:o.disabled,size:o.size,clear:o.clear,"after-icon":e.unref(w.default)},null,8,["modelValue","placeholder","disabled","size","clear","after-icon"])]),_:1},8,["disabled"])])}}});exports.default=M;
