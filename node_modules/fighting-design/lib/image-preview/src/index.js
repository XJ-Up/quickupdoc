"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),q=require("./index3.js"),c=require("../../button/index.js"),$=require("../../toolbar/index.js"),o=require("../../toolbar-item/index.js"),I=require("../../_hooks/use-operation-img/index.js"),y=require("../../_svg/f-icon-zoom-out/index.js"),B=require("../../_svg/f-icon-zoom-in/index.js"),C=require("../../_svg/f-icon-layout-rows/index.js"),F=require("../../_svg/f-icon-rotate-clockwise/index.js"),T=require("../../_svg/f-icon-rotate-anti-clockwise/index.js"),M=require("../../_svg/f-icon-chevron-right/index.js"),E=require("../../_svg/f-icon-chevron-left/index.js"),L=require("../../_svg/f-icon-cross/index.js"),S=require("../../_utils/is/index.js"),z=require("../../_hooks/use-run/index.js");const P=e.createElementVNode("div",{class:"f-image-preview__mask"},null,-1),O={class:"f-image-preview__wrapper"},D=["src"];var R=e.defineComponent({name:"FImagePreview",__name:"image-preview",props:e.mergeModels(q.Props,{visible:{type:Boolean,default:!1,type:Boolean},visibleModifiers:{}}),emits:["update:visible"],setup(u){const i=u,a=e.useModel(u,"visible"),{run:l}=z.useRun(),{scale:m,rotate:p,smaller:g,bigger:w,scrollZoom:s,recovery:d,rotateClockwise:_,rotateCounterClock:b}=I.useOperationImg(),n=e.ref(i.showIndex>i.imgList.length-1?0:i.showIndex),x=()=>{S.isArray(i.imgList)&&i.imgList.forEach(r=>{const t=new Image;t.src=r})},h={next:()=>{if(n.value<i.imgList.length-1){n.value++;return}n.value=0},prev:()=>{if(n.value>0){n.value--;return}n.value=i.imgList.length-1}},f=r=>{d(),l(h[r])},k={1:()=>g(),2:()=>w(),3:()=>d(),4:()=>_(),5:()=>b()},N=r=>{r&&l(k[r])},v=r=>{a.value=!1,l(i.onClose,r)};return(r,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body",disabled:!r.appendToBody},[e.createVNode(e.Transition,{name:"f-image-preview__transition",onBeforeEnter:x},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:"f-image-preview",style:e.normalizeStyle({zIndex:r.zIndex}),onMousewheel:t[0]||(t[0]=(...V)=>e.unref(s)&&e.unref(s)(...V))},[P,e.createElementVNode("div",{class:"f-image-preview__container",onClick:e.withModifiers(v,["self"])},[e.createVNode(e.Transition,{name:"f-image-preview__wrapper-transition"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",O,[e.createElementVNode("img",{class:"f-image-preview__node",draggable:"false",src:r.imgList[n.value],style:e.normalizeStyle({transform:`scale(${e.unref(m)}) rotate(${e.unref(p)}deg)`,borderRadius:r.round})},null,12,D)],512),[[e.vShow,a.value]])]),_:1}),r.isOption?(e.openBlock(),e.createBlock(e.unref($.FToolbar),{key:0,class:"f-image-preview__option",round:"","on-click":N},{default:e.withCtx(()=>[e.createVNode(e.unref(o.FToolbarItem),{icon:e.unref(y.default),index:1},null,8,["icon"]),e.createVNode(e.unref(o.FToolbarItem),{icon:e.unref(B.default),index:2},null,8,["icon"]),e.createVNode(e.unref(o.FToolbarItem),{icon:e.unref(C.default),index:3},null,8,["icon"]),e.createVNode(e.unref(o.FToolbarItem),{icon:e.unref(F.default),index:4},null,8,["icon"]),e.createVNode(e.unref(o.FToolbarItem),{icon:e.unref(T.default),index:5},null,8,["icon"])]),_:1})):e.createCommentVNode("",!0),r.imgList.length>1?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(e.unref(c.FButton),{class:"f-image-preview__next",circle:"","before-icon":e.unref(M.default),"on-click":()=>f("next")},null,8,["before-icon","on-click"]),e.createVNode(e.unref(c.FButton),{class:"f-image-preview__prev",circle:"","before-icon":e.unref(E.default),"on-click":()=>f("prev")},null,8,["before-icon","on-click"])],64)):e.createCommentVNode("",!0),e.createVNode(e.unref(c.FButton),{class:"f-image-preview__close",circle:"","before-icon":e.unref(L.default),"on-click":v},null,8,["before-icon"])])],36),[[e.vShow,a.value]])]),_:1})],8,["disabled"]))}});exports.default=R;
