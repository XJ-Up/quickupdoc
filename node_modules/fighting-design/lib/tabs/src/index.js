"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),v=require("./index3.js"),C=require("../../_hooks/use-list/index.js"),l=require("../../_utils/is/index.js");const S={class:"f-tabs__head"},V={key:0,class:"f-tabs__prefix"},E={class:"f-tabs__navs"},M={key:1,class:"f-tabs__suffix"},$={class:"f-tabs__body"},T="FTabsItem";var w=e.defineComponent({name:"FTabs",__name:"tabs",props:e.mergeModels(v.Props,{modelValue:{default:null,type:[Number,String]},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const i=d,c=e.useModel(d,"modelValue"),{classes:f,styles:p}=C.useList(i,"tabs"),r=e.ref(0),m=new Map,a=e.shallowRef(),u=t=>{const n=l.isArray(t)?t:[t],o=[];return n.forEach(s=>{l.isArray(s)?o.push(...u(s)):e.isVNode(s)&&l.isArray(s.children)?o.push(...u(s.children)):e.isVNode(s)&&s.component&&o.push(s)}),o},_=(t,n)=>t.subTree?u(t.subTree.children).filter(s=>l.isObject(s.type)&&s.type.name===n):[],b=e.getCurrentInstance(),y=t=>{m.set(t.uid,t);const o=_(b,T).map(s=>s.component?s.component.uid:null).filter(Boolean);if(a.value=o.map(s=>m.get(s)).filter(Boolean),c.value){r.value=c.value;return}a.value&&a.value.length&&a.value[0].activeName&&(r.value=a.value[0].activeName)},h=e.computed(()=>a.value&&a.value.map((t,n)=>(t.activeName=t.activeName||n,{name:t.activeName,label:t.label})));e.provide(v.TABS_PROPS_KEY,{activeName:r,registerChild:y});const g=async t=>{let n=!0;i.onSwitch&&(n=await i.onSwitch(t)),!(l.isBoolean(n)&&!n)&&(r.value=t,c.value=t)},N=f(["position","type"],"f-tabs"),k=p(["justifyContent"]),B=e.computed(()=>i.trigger==="hover"?"mouseenter":"click");return(t,n)=>(e.openBlock(),e.createElementBlock("div",{role:"tab",class:e.normalizeClass(e.unref(N)),style:e.normalizeStyle(e.unref(k))},[e.createElementVNode("div",S,[t.$slots.prefix?(e.openBlock(),e.createElementBlock("div",V,[e.renderSlot(t.$slots,"prefix")])):e.createCommentVNode("",!0),e.createElementVNode("div",E,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(o,s)=>(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:s,class:["f-tabs__nav-item",{"f-tabs__nav-active":o.name===r.value}]},{[e.toHandlerKey(B.value)]:L=>g(o.name)}),e.toDisplayString(o.label),17))),128))]),t.$slots.suffix?(e.openBlock(),e.createElementBlock("div",M,[e.renderSlot(t.$slots,"suffix")])):e.createCommentVNode("",!0)]),e.createElementVNode("div",$,[e.renderSlot(t.$slots,"default")])],6))}});exports.default=w;
