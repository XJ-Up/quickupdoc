"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),q=require("./index3.js"),s=require("../../svg-icon/index.js"),z=require("../../button/index.js"),$=require("../../swap/index.js"),b=require("../../_svg/f-icon-cross/index.js"),N=require("../../_svg/f-icon-eye-outline/index.js"),F=require("../../_svg/f-icon-eye-off-outline/index.js"),I=require("../../_hooks/use-input/index.js"),E=require("../../_hooks/use-global/index.js"),M=require("../../_hooks/use-list/index.js"),P=require("../../_hooks/use-run/index.js");const L={class:"f-input__wrapper"},T=["type","max","min","disabled","readonly","autofocus","name","autocomplete","placeholder","maxlength"];var D=e.defineComponent({name:"FInput",__name:"input",props:e.mergeModels(q.Props,{modelValue:{default:"",type:[String,Number]},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const l=i,a=e.useModel(i,"modelValue"),{run:d}=P.useRun(),{getLang:m,getProp:v}=E.useGlobal(l),{styles:h,classes:y}=M.useList(v(["size"]),"input"),{handleInput:c,handleClear:k,handleChange:p}=I.useInput(l,a),t=e.ref(!1),u=e.ref(l.type);e.watchEffect(()=>{u.value=l.type});const g=e.computed(()=>m("input").value.search),f=n=>{d(l.onSearch,a.value,n)},B=n=>{const{search:o,enterSearch:r,onEnter:C}=e.toRefs(l);o.value&&r.value&&f(n),d(C.value,a.value,n)},S=()=>{if(t.value){u.value="text",t.value=!0;return}u.value="password",t.value=!1},V=h(["placeholderColor","textColor","width","height","fontSize"]),w=y(["size","disabled","search"],"f-input");return(n,o)=>(e.openBlock(),e.createElementBlock("div",{role:"input",class:e.normalizeClass(e.unref(w)),style:e.normalizeStyle(e.unref(V))},[e.createElementVNode("div",L,[e.renderSlot(n.$slots,"before"),n.icon?(e.openBlock(),e.createBlock(e.unref(s.FSvgIcon),{key:0,class:"f-input__icon",icon:n.icon,size:13},null,8,["icon"])):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>a.value=r),class:"f-input__input",type:u.value,max:n.max,min:n.min,disabled:n.disabled,readonly:n.readonly,autofocus:n.autofocus,name:n.name,autocomplete:n.autocomplete,placeholder:n.placeholder,maxlength:n.maxLength,onInput:o[1]||(o[1]=(...r)=>e.unref(c)&&e.unref(c)(...r)),onChange:o[2]||(o[2]=(...r)=>e.unref(p)&&e.unref(p)(...r)),onKeyup:e.withKeys(B,["enter"]),onBlur:o[3]||(o[3]=(...r)=>n.onBlur&&n.onBlur(...r)),onFocus:o[4]||(o[4]=(...r)=>n.onFocus&&n.onFocus(...r))},null,40,T),[[e.vModelDynamic,a.value]]),n.clear?(e.openBlock(),e.createBlock(e.unref(s.FSvgIcon),{key:1,class:"f-input__clear-btn",icon:e.unref(b.default),size:14,"on-click":e.unref(k)},null,8,["icon","on-click"])):e.createCommentVNode("",!0),n.afterIcon?(e.openBlock(),e.createBlock(e.unref(s.FSvgIcon),{key:2,icon:n.afterIcon,size:14},null,8,["icon"])):e.createCommentVNode("",!0),n.showPassword?(e.openBlock(),e.createBlock(e.unref($.FSwap),{key:3,modelValue:t.value,"onUpdate:modelValue":o[5]||(o[5]=r=>t.value=r),class:"f-input__show-password",type:"swap","icon-on":e.unref(N.default),"icon-off":e.unref(F.default),size:14,"on-change":S},null,8,["modelValue","icon-on","icon-off"])):e.createCommentVNode("",!0),e.renderSlot(n.$slots,"after")]),n.search?(e.openBlock(),e.createElementBlock("div",{key:0,class:"f-input__search",onClick:f},[e.renderSlot(n.$slots,"searchBtn",{},()=>[e.createVNode(e.unref(z.FButton),{type:"primary",size:n.size},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.value),1)]),_:1},8,["size"])])])):e.createCommentVNode("",!0)],6))}});exports.default=D;
