"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),k=require("./index3.js"),Y=require("../../input/index.js"),D=require("../../trigger/index.js"),V=require("../../calendar/index.js"),l=require("../../_utils/utils/index.js"),b=require("../../_svg/f-icon-calendar/index.js"),h=require("../../_utils/tips/index.js");const y={class:"f-date-picker"},C={class:"f-date-picker__content"},_={class:"f-date-picker__option"};var x=e.defineComponent({name:"FDatePicker",__name:"date-picker",props:e.mergeModels(k.Props,{date:{default:"",type:String},dateModifiers:{}}),emits:["update:date"],setup(u){const n=u,s=e.useModel(u,"date"),d=new Date,c=e.ref(),g=d.getFullYear(),f=d.getMonth()+1,p=d.getDate(),i={YYYY:g+"",MM:n.addZero?l.addZero(f):f+"",DD:n.addZero?l.addZero(p):p+""},v=()=>{const a=RegExp(/([Y]{4})|([M]{2})|([D]{2})/);let t=n.format;a.test(t)||(h.warning("f-date-picker","`format` is not a standard format, default format will be used"),t="YYYY/MM/DD");for(const r in i)t=t.replace(r,i[r].toString());s.value=t},M=(a,t,r)=>{i.YYYY=a+"",i.MM=n.addZero?l.addZero(t):t+"",i.DD=n.addZero?l.addZero(r):r+""},m=(a,t)=>{c.value.close(a),t&&v()};return(a,t)=>{const r=e.resolveComponent("f-button");return e.openBlock(),e.createElementBlock("div",y,[e.createVNode(e.unref(D.FTrigger),{ref_key:"triggerInstance",ref:c,trigger:"click",disabled:a.disabled},{content:e.withCtx(()=>[e.createElementVNode("div",C,[e.createVNode(e.unref(V.FCalendar),{date:e.unref(d),"onUpdate:date":t[1]||(t[1]=o=>e.isRef(d)?d.value=o:null),"day-cell-height":42,"week-cell-height":42,"on-change":M},null,8,["date"]),e.createElementVNode("div",_,[e.createVNode(r,{size:"mini",onClick:t[2]||(t[2]=o=>m(o,!1))},{default:e.withCtx(()=>[e.createTextVNode("取消")]),_:1}),e.createVNode(r,{type:"primary",size:"mini",onClick:t[3]||(t[3]=o=>m(o,!0))},{default:e.withCtx(()=>[e.createTextVNode(" 确定 ")]),_:1})])])]),default:e.withCtx(()=>[e.createVNode(e.unref(Y.FInput),{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),autocomplete:"off",readonly:"",disabled:a.disabled,placeholder:a.placeholder||"请选择日期",clear:a.clear,size:a.size,"after-icon":e.unref(b.default)},null,8,["modelValue","disabled","placeholder","clear","size","after-icon"])]),_:1},8,["disabled"])])}}});exports.default=x;
