"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue"),N=require("./index3.js"),b=require("../../empty/index.js"),d=require("../../checkbox/index.js"),u=require("../../_utils/is/index.js"),f=require("../../_hooks/use-run/index.js"),C=require("../../_hooks/use-list/index.js");const F={class:"f-table__container"},w={key:0,class:"f-table__header"},S={class:"f-table__table"},D={key:0,width:50,span:1},L={key:1,width:50,span:1},$=["width"],q=["align"],T={key:0},U={key:1},z={class:"f-table__body"},H={key:0,class:"f-table__table"},A={key:0,width:50,span:1},M={key:1,width:50,span:1},P=["width"],j=["align"],O={key:0},R={key:1},G=["align"],I={key:0},J={key:1},K={key:1},Q={class:"f-table__table"},W={key:0,width:50,span:1},X={key:1},Y=["width"],Z=["align"],x={key:0},ee={key:1},te={class:"table__no-data"},oe={key:1};var le=e.defineComponent({name:"FTable",__name:"table",props:N.Props,setup(B){const a=B,{run:p}=f.useRun(),{styles:h,classes:y}=C.useList(a,"table"),E=(t,n,o,l)=>t(e.h,n,o,l),m=(t,n,o)=>t(e.h,n,o),V=h(["zebraColor","bgColor","headBgColor","height","width"]),_=y(["border","zebra"],"f-table"),k=e.computed(()=>!!(a.height&&a.showHead)),r=e.ref([]),s=e.computed({get:()=>r.value.length?(r.value||[]).every(t=>t._select):!1,set:t=>{const n=(r.value||[]).map(o=>(o._select=t,o));return r.value=n,i(),t}}),g=()=>{if(u.isArray(a.data)||(r.value=[]),a.select){const t=a.data.map(n=>({...n,_select:!1}));r.value=t;return}r.value=a.data};e.watch(()=>a.data,g,{immediate:!0});const i=()=>{const t=(r.value||[]).filter(n=>n._select);p(a.onSelect,t)};return(t,n)=>(e.openBlock(),e.createElementBlock("div",{role:"table",class:e.normalizeClass(e.unref(_)),style:e.normalizeStyle(e.unref(V))},[e.createElementVNode("div",F,[t.columns||r.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[k.value?(e.openBlock(),e.createElementBlock("div",w,[e.createElementVNode("table",S,[e.createElementVNode("colgroup",null,[t.select?(e.openBlock(),e.createElementBlock("col",D)):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("col",L)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(o,l)=>(e.openBlock(),e.createElementBlock("col",{key:l,width:o.width},null,8,$))),128))]),e.createElementVNode("thead",{align:t.align},[e.createElementVNode("tr",null,[t.select?(e.openBlock(),e.createElementBlock("th",T,[e.createVNode(e.unref(d.FCheckbox),{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=o=>s.value=o),disabled:!r.value.length},null,8,["modelValue","disabled"])])):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("th",U,"#")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(o,l)=>(e.openBlock(),e.createElementBlock("th",{key:l},[e.unref(u.isFunction)(o.title)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m(o.title,o,l)),{key:0})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.title),1)],64))]))),128))])],8,q)])])):e.createCommentVNode("",!0),e.createElementVNode("div",z,[r.value&&r.value.length?(e.openBlock(),e.createElementBlock("table",H,[e.createElementVNode("colgroup",null,[t.select?(e.openBlock(),e.createElementBlock("col",A)):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("col",M)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(o,l)=>(e.openBlock(),e.createElementBlock("col",{key:l,span:1,width:o.width},null,8,P))),128))]),k.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("thead",{key:0,align:t.align},[e.createElementVNode("tr",null,[t.select?(e.openBlock(),e.createElementBlock("th",O,[e.createVNode(e.unref(d.FCheckbox),{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),disabled:!r.value.length},null,8,["modelValue","disabled"])])):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("th",R,"#")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(o,l)=>(e.openBlock(),e.createElementBlock("th",{key:l},[e.unref(u.isFunction)(o.title)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m(o.title,o,l)),{key:0})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.title),1)],64))]))),128))])],8,j)),e.createElementVNode("tbody",{align:t.align},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(o,l)=>(e.openBlock(),e.createElementBlock("tr",{key:l},[t.select?(e.openBlock(),e.createElementBlock("td",I,[e.createVNode(e.unref(d.FCheckbox),{modelValue:o._select,"onUpdate:modelValue":c=>o._select=c,"on-change":i},null,8,["modelValue","onUpdate:modelValue"])])):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("td",J,e.toDisplayString(l+1),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(c,v)=>(e.openBlock(),e.createElementBlock("td",{key:v},[c.render?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(E(c.render,o,c,l)),{key:0})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[c.key?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(o[c.key]),1)],64)):e.createCommentVNode("",!0)],64))]))),128))]))),128))],8,G),t.$slots.tfoot?(e.openBlock(),e.createElementBlock("tfoot",K,[e.renderSlot(t.$slots,"tfoot")])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("table",Q,[e.createElementVNode("colgroup",null,[t.select?(e.openBlock(),e.createElementBlock("col",W)):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("col",X)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(o,l)=>(e.openBlock(),e.createElementBlock("col",{key:l,span:1,width:o.width},null,8,Y))),128))]),k.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("thead",{key:0,align:t.align},[e.createElementVNode("tr",null,[t.select?(e.openBlock(),e.createElementBlock("th",x,[e.createVNode(e.unref(d.FCheckbox),{modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=o=>s.value=o),disabled:!r.value.length},null,8,["modelValue","disabled"])])):e.createCommentVNode("",!0),t.num?(e.openBlock(),e.createElementBlock("th",ee,"#")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(o,l)=>(e.openBlock(),e.createElementBlock("th",{key:l},[e.unref(u.isFunction)(o.title)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m(o.title,o,l)),{key:0})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.title),1)],64))]))),128))])],8,Z))]),e.createElementVNode("div",te,[e.renderSlot(t.$slots,"noData",{},()=>[e.createVNode(e.unref(b.FEmpty),{content:"暂无数据"})])])],64))])],64)):(e.openBlock(),e.createElementBlock("table",oe,[e.renderSlot(t.$slots,"default")]))])],6))}});exports.default=le;
